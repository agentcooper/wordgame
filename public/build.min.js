!function e(t,a,s){function r(l,c){if(!a[l]){if(!t[l]){var o="function"==typeof require&&require;if(!c&&o)return o(l,!0);if(n)return n(l,!0);var i=new Error("Cannot find module '"+l+"'");throw i.code="MODULE_NOT_FOUND",i}var m=a[l]={exports:{}};t[l][0].call(m.exports,function(e){var a=t[l][1][e];return r(a?a:e)},m,m.exports,e,t,a,s)}return a[l].exports}for(var n="function"==typeof require&&require,l=0;l<s.length;l++)r(s[l]);return r}({1:[function(e,t){t.exports=React.createClass({displayName:"exports",componentWillUpdate:function(){var e=this.getDOMNode();this.shouldScrollBottom=e.scrollTop+e.offsetHeight===e.scrollHeight},componentDidUpdate:function(){this.shouldScrollBottom&&this.scrollDown()},scrollDown:function(){var e=this.getDOMNode();e.scrollTop=e.scrollHeight},componentDidMount:function(){this.scrollDown()},render:function(){return React.createElement("ul",{className:"chat list-unstyled",ref:"chat"},this.props.messages.map(function(e){var t;return"God"===e.author&&(t=React.createElement("span",{className:"glyphicon glyphicon-fire"})),React.createElement("li",{className:"message"},t," ",React.createElement("span",null,e.author),": ",e.text)}))}})},{}],2:[function(e,t){t.exports=React.createClass({displayName:"exports",isHost:function(e){return e.username===this.props.game.host},render:function(){return React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},"Player list"),React.createElement("ul",{className:"list-group"},Object.keys(this.props.game.players).map(function(e){var t,a=this.props.game.players[e];return t=this.isHost(a)?React.createElement("span",{className:"glyphicon glyphicon-star"}):React.createElement("span",{className:"glyphicon glyphicon-user"}),React.createElement("li",{className:"list-group-item"},React.createElement("span",{className:"badge"},a.points),t," ",React.createElement("span",{className:this.isHost(a)?"host":""},e)," ",React.createElement("span",null))},this)))}})},{}],3:[function(e,t){t.exports=React.createClass({displayName:"exports",isHost:function(){return this.props.game.host===this.props.profile.username},render:function(){var e;return e=this.props.game.host?this.isHost()?React.createElement("p",null,"You are a host.",React.createElement("h2",null,"Explain:"),React.createElement("div",{className:"alert alert-success",role:"alert"},this.props.profile.secret.value),React.createElement("ul",{className:"list-unstyled"},this.props.profile.secret.stopwords.map(function(e){return React.createElement("li",null,e)}))):React.createElement("p",null,this.props.game.host," is host now."):React.createElement("p",null,"Wait for other players now."),React.createElement("div",{className:"profile"},React.createElement("p",null,"Hi, ",this.props.profile.username,"."),e)}})},{}],4:[function(e,t){var a=React.addons.classSet;t.exports=React.createClass({displayName:"exports",getInitialState:function(){return{text:"",valid:!0}},handleChange:function(e){if(!/[^0-9a-zA-Z ]+/.test(e.target.value)){var t=this.props.validate(e.target.value);this.setState({text:e.target.value,valid:t})}},handleSubmit:function(e){if(e.preventDefault(),this.state.valid){var t=this.refs.input.getDOMNode(),a=t.value;a&&(this.props.onSubmit({text:a}),this.setState({text:""}))}},render:function(){return React.createElement("form",{className:a({bad:!this.state.valid}),onSubmit:this.handleSubmit},React.createElement("input",{ref:"input",className:"message-input form-control",value:this.state.text,onChange:this.handleChange,placeholder:"Type a message here"}))}})},{}],5:[function(e){var t=e("./Chat.jsx"),a=e("./UserInput.jsx"),s=e("./Profile.jsx"),r=e("./PlayerList.jsx"),n=React.createClass({displayName:"App",getInitialState:function(){var e=this;this.socket=io(),this.socket.on("new_message",function(t){console.log(t),e.state.messages.push(t),t.secret&&(e.state.profile.secret=t.text,e.setState({profile:e.state.profile})),e.setState({messages:e.state.messages})}),this.socket.on("new_secret",function(t){console.log(t),e.state.messages.push({author:"God",text:"Explain "+t.value}),e.state.profile.secret=t,e.setState({profile:e.state.profile}),e.setState({messages:e.state.messages})}),this.socket.on("player_left",function(e){console.log(e,"left")}),this.socket.on("messages",function(t){e.setState({messages:t})}),this.socket.on("gameState",function(t){console.log("gameState",t),e.setState({gameState:t})}),this.socket.on("login",function(t){e.state.profile.username=t.username,e.setState({profile:e.state.profile})});var t={username:"",secret:{value:"",stopwords:[]}};return t.username&&this.socket.emit("new_player",{username:t.username}),{profile:t,messages:[],gameState:{host:null,question:"",players:{}}}},sendMessage:function(e){e.author=this.state.profile.username,this.socket.emit("chat_message",e)},isHost:function(){return this.state.profile.username===this.state.gameState.host},checkMessage:function(e){if(!this.isHost())return!0;var t=this.state.profile.secret;return t.stopwords.concat(t.value).every(function(t){return-1===e.indexOf(t)})},login:function(e){e.preventDefault();var t=this.refs.username.getDOMNode().value;t&&this.socket.emit("new_player",{username:t})},render:function(){var e=React.createElement("div",{className:"col-md-3"},React.createElement("form",{onSubmit:this.login},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"username"},"Username"),React.createElement("input",{type:"text",id:"username",ref:"username",className:"form-control",placeholder:"Username"})),React.createElement("div",null,React.createElement("button",{type:"submit",className:"btn btn-default"},"Play")))),n=React.createElement("div",null,React.createElement("div",{className:"col-md-3"},React.createElement(r,{game:this.state.gameState})),React.createElement("div",{className:"col-md-6"},React.createElement(t,{messages:this.state.messages}),React.createElement(a,{onSubmit:this.sendMessage,validate:this.checkMessage})),React.createElement("div",{className:"col-md-3"},React.createElement(s,{game:this.state.gameState,profile:this.state.profile})));return React.createElement("div",{className:"container"},React.createElement("div",{className:"header"},React.createElement("h3",{className:"text-muted"},"Project X")),React.createElement("div",{className:"row"},this.state.profile.username?n:e))}});React.render(React.createElement(n,null),document.querySelector(".app"))},{"./Chat.jsx":1,"./PlayerList.jsx":2,"./Profile.jsx":3,"./UserInput.jsx":4}]},{},[5]);